= 重複データの排除
:type: quiz
:order: 1
:updated-at: 2022-04-25 T 21:00:00 Z

[.video]
video::2JiFIfre2wM[youtube,width=560,height=315]

[.transcript]
== 重複データ

グラフのデータが重複しないように注意する必要がある。
データベースによっては、クエリの速度を向上させるために非正規化を必要とするものもあるが、グラフデータベースでは必ずしもそうではない。
例えば、ある商品を購入した他の顧客を探したり、他のユーザーの評価から類似の映画を探したりすることができる。

また、グラフ内のデータが重複すると、グラフのサイズが大きくなり、クエリに必要なデータ量が増える可能性がある。

=== 新しいユースケース

私たちは、説明しなければならない新しいユースケースを手に入れました。

*ユースケース#11: どの映画がどの言語でみることができるか？*

現在のインスタンスモデルは次のようになっています:

image::images/instance-model-thus-far.png[Instance model thus fars,width=400,align=center]

ご覧の通り、データモデルには言語を考慮していませんので、このデータを追加する必要があります。

=== 重複データの例

グラフの各 _Movie_ ノードに、映画が利用できる言語を表す _languages_ というプロパティを追加したとします。

インスタンスモデルは以下のようになります。

image::images/languages-property-instance-model.png[Instance model with languages,width=400,align=center]

ここでは、すべての _Movie_ ノードが言語リストに英語を持っていることがわかります。
これは重複データであり、規模が大きいデータベースでは、多くの重複があることを意味します。

== 理解度チェック


include::questions/1-why-eliminate-duplication.adoc[leveloffset=+1]


[.summary]
== まとめ

このレッスンでは、グラフ内のデータの重複を排除することが重要である理由を学びました。
次の課題では、新しいユースケースをテストできるように、重複するデータとしてインスタンスモデルにさらにデータを追加します。
